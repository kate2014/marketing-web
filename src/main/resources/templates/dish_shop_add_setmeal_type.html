<!DOCTYPE html>
<html xmlns:th="http://www.w3.org/1999/xhtml">
<style type="text/css">

    html,body{
        width: 100%;
        height: 100%;
        margin: 0px;
        background-color: #F0F0F0;
    }


</style>

<head>
    <meta charset="UTF-8">
    <title>添加套餐子项类别</title>
    <link rel="stylesheet" th:href="@{/css/public.css}" href="../static/css/public.css" type="text/css" />
    <link rel="stylesheet" th:href="@{/css/widget.css}" href="../static/css/widget.css" type="text/css" />
    <link rel="stylesheet" th:href="@{/css/common.css}" href="../static/css/common.css" />
    <link rel="stylesheet" th:href="@{/css/base.css}" href="../static/css/base.css" />
    <link rel="stylesheet" th:href="@{/css/customer.css}" href="../static/css/customer.css" />
    <script type="text/javascript" th:src="@{/js/jquery-3.1.1.min.js}" src="../static/js/jquery-3.1.1.min.js" ></script>

    <link rel="stylesheet" th:href="@{/tips/jquery.toast.css}" src="../static/tips/jquery.toast.css">
    <script type="text/javascript" th:src="@{/tips/jquery.toast.js}" src="../static/tips/jquery.toast.js"></script>
    <script type="text/javascript" th:src="@{/tips/tips.js}" src="../static/tips/tips.js"></script>
</head>

<script type="text/javascript">

    function showPurchaseDialog() {
        document.getElementById('batchDialog').style.display='block';
    }

    function closePurchaseDialog() {
        document.getElementById('batchDialog').style.display='none';
    }

    function showGroupDialog() {
        document.getElementById('groupDialog').style.display='block';
    }

    function closeGroupDialog() {
        document.getElementById('groupDialog').style.display='none';
    }

    function delRow(obj, removeRow) {
        var tr = this.getRowObj(obj);
        if (tr != null) {
            tr.parentNode.removeChild(tr);
        } else {
            throw new Error("the given object is not contained by the table");
        }
    }
    function getRowObj(obj) {
        var i = 0;
        while (obj.tagName.toLowerCase() != "tr") {
            obj = obj.parentNode;
            if (obj.tagName.toLowerCase() == "table")
                return null;
        }
        return obj;
    }

    function delAllRow(tableId) {
        var table = document.getElementById(tableId);
        if (table !== "undefined") {
            while(table.hasChildNodes()){
                table.removeChild(table.lastChild)
            }
        }
    }

    function addSetmealGrpup() {
        var setmealType = $('#inputSetmealType').val();
        var intput0rderMin = $('#intput0rderMin').val();
        var intputOrderMax = $('#intputOrderMax').val();

    }

</script>

<body>

<div style="margin: 10px;padding: 20px" class="modle_background_style">
    <div class="parent">
        <img th:src="@{/images/lable.jpg}" style="height: 25px; width: 4px">
        <label class="text_navigation" style="margin-left: 10px; font-weight: bold">套餐子项</label>
    </div>

    <div class="blue_button_style parent_h container" style="margin-left: 15px" onclick="showGroupDialog()">+新建子项组别</div>

    <div align="center" style="margin-top: 10px">

        <div th:each="groupItem:${listSetmealModel}" style="margin-bottom: 20px;margin-top: 10px">
            <table class="gridtablestyle" style="width: 96%; vertical-align: middle;margin-top: 10px" th:id="${groupItem.mDishSetmealGroup.id}">
                <tr style="width: 100%">
                    <th width="30%" th:text="${groupItem.mDishSetmealGroup.name}"></th>
                    <th colspan="7">
                        <div class="parent">
                            至少必选：<span th:text="${groupItem.mDishSetmealGroup.orderMin}" style="margin-right: 20px"></span>

                            至多可选：<span th:text="${groupItem.mDishSetmealGroup.orderMax}" style="margin-right: 20px"></span>

                            <img style="cursor: pointer;margin-right: 20px" onclick="showGroupDialog()" class="icon_middle_style" src="../static/images/modfity_icon.png" th:src="@{/images/modfity_icon.png}">
                            <img style="cursor: pointer" class="icon_middle_style" th:onclick="'javascript:delAllRow(\''+${groupItem.mDishSetmealGroup.id}+'\')'" th:src="@{/images/delete_icon.png}">

                        </div>
                    </th>

                </tr>
            </table>
        </div>

    </div>

</div>


<div align="center" style="margin: 20px;padding: 20px">
    <button class="gray_button_style" onclick="javascript :history.back(-1);">返回</button>

    <button class="blue_button_style" style="margin-left: 15px" onclick="saveSingleDish()">保存组别</button>
</div>

</body>
</html>
