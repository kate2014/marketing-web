<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>营业报表</title>
    <link rel="stylesheet" th:href="@{/css/public.css}" href="../static/css/public.css" type="text/css" />
    <link rel="stylesheet" th:href="@{/css/widget.css}" href="../static/css/widget.css" type="text/css" />
    <link rel="stylesheet" th:href="@{/css/base.css}" href="../static/css/base.css" type="text/css" />
    <link rel="stylesheet" th:href="@{/css/common.css}" href="../static/css/common.css" type="text/css" />

    <link type="text/css" rel="stylesheet" th:href="@{/selectdate/test/jeDate-test.css}">
    <link type="text/css" rel="stylesheet" th:href="@{/selectdate/skin/jedate.css}">
    <script type="text/javascript" th:src="@{/selectdate/src/jedate.js}"></script>

    <script type="text/javascript" src="../static/js/echarts.min.js" th:src="@{/js/echarts.min.js}"></script>

    <script type="text/javascript" th:src="@{/js/jquery-3.1.1.min.js}" src="../static/js/jquery-3.1.1.min.js" ></script>

</head>

<script type="text/javascript">
    function exportExcel() {
        var brandIdenty = $("input[name='brandIdenty']").val();
        var shopIdenty = $("input[name='shopIdenty']").val();
        var type = $("select[name='type']").val();
        var name = $("input[name='name']").val();
        var tradeUser = $("input[name='tradeUser']").val();
        var customerName = $("input[name='customerName']").val();
        var startDate = $("input[name='startDate']").val();
        var endDate = $("input[name='endDate']").val();
        var params = "brandIdenty=" + brandIdenty +
            "&shopIdenty=" + shopIdenty +
            "&type=" + type +
            "&name=" + name +
            "&tradeUser=" + tradeUser +
            "&customerName=" + customerName +
            "&startDate=" + startDate +
            "&endDate=" + endDate;
        location.href = "[[${basePath}]]/internal/purchaseSale/export/dishSale?" + params;
    }
</script>

<body>


    <div class="parent" style="margin-top: 20px">
        <form method="post" name="queryData" action="" th:action="@{/internal/purchaseSale/saleReport}" th:object="${mPurchSaleModel}">

            <div class="parent">
                <div>
                    <div class="parent">
                        <input type="hidden" name="brandIdenty" th:value="${mPurchSaleModel.brandIdenty}">

                        <input type="hidden" name="shopIdenty" th:value="${mPurchSaleModel.shopIdenty}">

                        <label class="text_navigation" style="margin-left: 10px">消耗类型</label>
                        <select class="select_style" name="type" style="margin-left: 5px">
                            <option value="">全部</option>
                            <option th:selected="${mPurchSaleModel.type==1}" th:value="1">销货</option>
                            <option th:selected="${mPurchSaleModel.type==2}" th:value="2">退货</option>
                        </select>

                        <label class="text_navigation" style="margin-left: 10px">品项名称</label>
                        <input class="input_style" style="margin-left: 5px" type="text" th:value="${mPurchSaleModel.name}" name="name"/>
                        <label class="text_navigation" style="margin-left: 10px">服务员</label>
                        <input class="input_style" style="margin-left: 5px" type="text" th:value="${mPurchSaleModel.tradeUser}" name="tradeUser"/>
                        <label class="text_navigation" style="margin-left: 5px">顾客姓名</label>
                        <input class="input_style" style="margin-left: 5px" type="text" th:value="${mPurchSaleModel.customerName}" name="customerName"/>

                    </div>
                    <div class="parent" style="margin-top: 5px">

                        <label class="text_navigation" style="margin-left: 10px">查询时间</label>
                        <input type="text" class="input_style" id="startDate" name="startDate" placeholder="设置查询起始时间" th:value="${mPurchSaleModel.startDate}" style="margin-left: 5px">
                        <label class="text_navigation" style="margin-left: 5px">--</label>
                        <input type="text" class="input_style" id="endDate" name="endDate" placeholder="设置查询结束时间" th:value="${mPurchSaleModel.endDate}" style="margin-left: 5px">

                    </div>
                </div>

                <button class="orange_mine_button_style" value="" onclick="this" style="margin-left: 20px">查询</button>
            </div>




        </form>
        <div class="parent" id="export_excel" onclick="exportExcel()" style="margin-left: 20px;cursor:pointer;">
            <img th:src="@{/images/excel_icon.png}" src="../static/images/excel_icon.png" style="width: 21px;height: 21px">
            <span style="font-size: 10px;margin-left: 6px">数据导出</span>
        </div>


    </div>




<img class="line_style" th:src="@{/images/line.jpg}" style="margin-top: 10px">

    <div align="center" style="margin-top: 10px;margin-bottom: 26px">
        <table class="gridtablestyle" style="width: 95%; vertical-align: middle">
            <tr style="width: 100%">
                <th>消耗类型</th>
                <th>品项名称</th>
                <th>消耗数量</th>
                <th>销售金额</th>
                <th>服务员姓名</th>
                <th>顾客姓名</th>
                <th>消耗时间</th>
            </tr>
            <tr th:each="item:${listData}">
                <td th:text="${item.type}"></td>
                <td th:text="${item.name}"></td>
                <td th:text="${item.number}"></td>
                <td th:text="${item.actualAmount}"></td>
                <td th:text="${item.tradeUser}"></td>
                <td th:text="${item.customerName}"></td>
                <td th:text="${item.serverCreateTime}"></td>
            </tr>

        </table>
    </div>

<script type="text/javascript" th:src="@{/selectdate/test/demo.js}"></script>

</body>
</html>