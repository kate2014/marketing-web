<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
    <style type="text/css">
        #tab tr td{

            text-align: center;
        }
    </style>

</head>
<body>
<table id="tab" border="1px solid" bordercolor="lightblue" cellspacing="0" width="500px" >
    <tr>
        <th width="150px">姓名</th>
        <th width="150px">年龄</th>
        <th width="200px">操作</th>
    </tr>
    <tr>
        <td>张三</td>
        <td>18</td>
        <td>
            <input type="button" name="" id=""  onclick="dele(this)" value="删除" />
            <input type="button" name="" id="" onclick='update(this)'  value="修改" />
        </td>
    </tr>
    <tr>
        <td>张四</td>
        <td>18</td>
        <td>
            <input type="button" name="" id="" onclick="dele(this)" value="删除" />
            <input type="button" name="" id="" onclick='update(this)' value="修改" />
        </td>
    </tr>

    <tr>
        <td colspan="3">
            <input type="button" onclick="addRow()" value="添加信息"/>
        </td>
    </tr>
</table>
</body>
<script type="text/javascript">
    function  addRow(){
        var tab = document.getElementById("tab");
        //alert(tab.rows.length)
        var rownum = tab.rows.length;// 行数
        var newRow=tab.insertRow(rownum-1);

        var cellname = newRow.insertCell(0);
        cellname.innerHTML="<input type='text' value='' />";

        var cellage = newRow.insertCell(1);
        cellage.innerHTML="<input type='number' value='' size='10' />";
        var action = newRow.insertCell(2);
        action.innerHTML="<img src='../static/images/delect_icon.png'><input type='button' name='' id='' onclick='save(this)' value='保存' />"
    }

    function save(obj){
//			alert(obj.parentNode.parentNode.innerHTML)
        var tr = obj.parentNode.parentNode; // 获取的本行的tr
        //	alert(tr.cells[0].childNodes[0].value)
        tr.cells[0].innerHTML = tr.cells[0].childNodes[0].value
        tr.cells[1].innerHTML = tr.cells[1].childNodes[0].value
        tr.cells[2].innerHTML = "<input type='button' name='' onclick='dele(this)' id='' value='删除' /><input type='button' name='' id=''  onclick='update(this)' value='修改' />"
    }

    function dele(obj){
        var otr = obj.parentNode.parentNode;
//			var tab = document.getElementById("tab");
//			tab.deleteRow(otr.rowIndex)
        var tab =  otr.parentNode; //自己的父节点 就是table
        tab.removeChild(otr);
    }

    function update(obj){
//			alert(obj.parentNode.parentNode.innerHTML)
        var tr = obj.parentNode.parentNode; // 获取的本行的tr
        //	alert(tr.cells[0].childNodes[0].value)
        tr.cells[0].innerHTML = "<input type='text' value='"+tr.cells[0].innerHTML+"' size='10' />";
        tr.cells[1].innerHTML = "<input type='number' value='"+tr.cells[1].innerHTML+"' size='10' />";
        tr.cells[2].innerHTML = "<input type='button' name='' onclick='dele(this)' id='' value='删除' /><input type='button' name='' onclick='save(this)' id=''  value='保存' />"
    }
</script>
</html>
